function pad(e){return e<10?"0"+e:e}function isTodayOrTheFuture(e){return 0<=differenceInDays(e,new Date)}function isOverTwoMonths(e){return 60<=differenceInDays(e,new Date)}NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach);var isClicking=!1;function reloadOnDateChange(){this.value!==this.dataset.original&&(console.log("here now"),document.getElementById("changeDate").click())}function reloadOnDateChangeMobile(){this.value!==this.dataset.original&&(console.log("here now"),document.getElementById("changeDateMobile").click())}function updateEditableRoomFields(){document.getElementById("roomId").value=this.dataset.id,document.getElementById("name").value=this.dataset.name,document.getElementById("sitting").value=this.dataset.sitting,document.getElementById("standing").value=this.dataset.standing;var e=document.querySelectorAll("#equipment");e[0]&&(e[0].value=this.dataset.equipment1||""),e[1]&&(e[1].value=this.dataset.equipment2||"")}function revealHiddenOptions(){for(var e=0;e<this.options.length;e++)if(this.options[e].dataset.target){var t=document.getElementById(this.options[e].dataset.target);t.classList.contains("js-hidden")||t.classList.add("js-hidden")}document.getElementById(this.options[this.selectedIndex].dataset.target)&&document.getElementById(this.options[this.selectedIndex].dataset.target).classList.remove("js-hidden")}function selectRoomFromOverview(e){"A"!==e.target.tagName&&document.getElementById(this.dataset.link).click()}function selectParkingForConfirmation(e){"A"!==e.target.tagName&&document.getElementById(this.dataset.link).click()}document.querySelectorAll("#input-date-day, #input-date-month, #input-date-year").forEach(function(e){e.addEventListener("blur",function(){this.parentNode.parentNode.parentNode.parentNode.parentNode.submit()})}),document.querySelectorAll(".time").forEach(function(e){e.addEventListener("mousedown",function(e){e.preventDefault(),document.querySelectorAll(".time").forEach(function(e){e.classList.remove("provisional-date")}),this.classList.toggle("provisional-date"),isClicking=!0}),e.addEventListener("mouseup",function(){isClicking=!1;var e=document.querySelectorAll(".provisional-date"),t=e[0].getAttribute("data-time").split(":"),n=1===e.length?e[0].getAttribute("data-time").split(":"):e[e.length-1].getAttribute("data-time").split(":"),i=document.querySelectorAll("#hours, #minutes");i[0].value=1===t[0].length?"0"+t[0]:t[0],i[1].value=t[1];var o="30"===n[1]?pad(parseInt(n[0])+1).toString():n[0];i[2].value=1===o.length?"0"+o:o,i[3].value="30"===n[1]?"00":"30"}),e.addEventListener("mouseover",function(){!0===isClicking&&this.classList.add("provisional-date")})}),document.querySelectorAll(".date-picker-input, .dp-input").forEach(function(e){e.addEventListener("blur",reloadOnDateChange)}),document.querySelectorAll(".mobile-dp-input").forEach(function(e){e.addEventListener("blur",reloadOnDateChangeMobile)}),document.querySelectorAll(".select-room-to-edit-button").forEach(function(e){e.addEventListener("click",updateEditableRoomFields)}),document.querySelectorAll("select").forEach(function(e){e.addEventListener("change",revealHiddenOptions)}),document.querySelectorAll(".overview-row").forEach(function(e){e.addEventListener("click",selectRoomFromOverview)}),document.querySelectorAll(".parking-row").forEach(function(e){e.addEventListener("click",selectParkingForConfirmation)});